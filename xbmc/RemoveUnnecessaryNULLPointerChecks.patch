From 8569e42ad6ef58e22a2a3f856169ba3b7276e12d Mon Sep 17 00:00:00 2001
From: ace20022 <ace20022@ymail.com>
Date: Thu, 4 Apr 2013 13:08:56 +0200
Subject: [PATCH] [OMXPlayer] Performance: Remove unnecessary NULL pointer
 checks.

---
 xbmc/cores/omxplayer/OMXPlayer.cpp      | 4 ++--
 xbmc/cores/omxplayer/OMXPlayerVideo.cpp | 3 +--
 2 files changed, 3 insertions(+), 4 deletions(-)

diff --git a/xbmc/cores/omxplayer/OMXPlayer.cpp b/xbmc/cores/omxplayer/OMXPlayer.cpp
index c09569b..0339323 100644
--- a/xbmc/cores/omxplayer/OMXPlayer.cpp
+++ b/xbmc/cores/omxplayer/OMXPlayer.cpp
@@ -604,8 +604,8 @@ bool COMXPlayer::OpenInputStream()
     return false;
   }
 
-  if (m_pInputStream && ( m_pInputStream->IsStreamType(DVDSTREAM_TYPE_DVD)
-                       || m_pInputStream->IsStreamType(DVDSTREAM_TYPE_BLURAY) ) )
+  if (m_pInputStream->IsStreamType(DVDSTREAM_TYPE_DVD)
+                       || m_pInputStream->IsStreamType(DVDSTREAM_TYPE_BLURAY))
   {
     CLog::Log(LOGINFO, "COMXPlayer::OpenInputStream - DVD/BD not supported - Will try...");
   }
diff --git a/xbmc/cores/omxplayer/OMXPlayerVideo.cpp b/xbmc/cores/omxplayer/OMXPlayerVideo.cpp
index 29ca861..2408166 100644
--- a/xbmc/cores/omxplayer/OMXPlayerVideo.cpp
+++ b/xbmc/cores/omxplayer/OMXPlayerVideo.cpp
@@ -657,8 +657,7 @@ bool OMXPlayerVideo::OpenDecoder()
     CLog::Log(LOGINFO, "OMXPlayerVideo::OpenDecoder fps: %f %s\n", m_fFrameRate, command);
     m_DllBcmHost.vc_gencmd(response, sizeof response, command);
 
-    if(m_av_clock)
-      m_av_clock->SetRefreshRate(m_fFrameRate);
+    m_av_clock->SetRefreshRate(m_fFrameRate);
   }
 
   m_av_clock->OMXStateExecute(false);
-- 
1.8.1.5